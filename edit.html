<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AX2 - 강의 번역 편집</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="edit.css">
</head>
<body>
    <!-- 헤더 -->
    <div class="header">
        <div class="header-left">
            <div class="logo" onclick="location.href='home.html'">AX2</div>
            <a href="mypage.html" class="back-btn">← 마이페이지로 돌아가기</a>
        </div>
        <div class="header-right">
            <div class="plan-info">
                <span class="highlight">Free</span> <span id="remaining-time">0분 남음</span>
            </div>
            <a href="login.html" class="login-btn">로그인</a>
        </div>
    </div>

    <!-- 메인 콘텐츠 -->
    <div class="main-content">
        <!-- 좌측 편집 영역 -->
        <div class="edit-section">
            <div class="edit-header">
            <div class="title-editor">
                <input type="text" class="title-input" id="video-title" value="강의 제목" placeholder="강의 제목을 입력하세요" readonly>
                <button class="edit-icon-btn" id="edit-title-btn">
                    <svg class="edit-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                </button>
            </div>
                <div class="language-tabs">
                    <div class="lang-tab active" data-lang="ko">
                        <span class="lang-flag">🇰🇷</span>
                        <span>Korean</span>
                    </div>
                    <div class="lang-tab" data-lang="en">
                        <span class="lang-flag">🇺🇸</span>
                        <span>English</span>
                    </div>
                </div>
            </div>

            <div class="transcription-list" id="transcription-list">
                <!-- 텍스트 세그먼트들이 여기에 동적으로 추가됩니다 -->
            </div>
        </div>

        <!-- 우측 비디오 영역 -->
        <div class="video-section">
            <div class="video-tabs">
                <button class="video-tab active" data-tab="original">원본</button>
                <button class="video-tab" data-tab="translation">번역</button>
            </div>

            <div class="warning-banner">
                편집한 내용은 자동으로 반영되지 않습니다. 완료 후 '변경사항 적용하기'를 눌러 적용해 주세요.
            </div>

            <div class="video-container">
                <video class="video-player" id="video-player" preload="metadata">
                    <source src="" type="video/mp4">
                </video>
                <div class="video-placeholder" id="video-placeholder" style="display: none;">
                    <i class="fas fa-video-slash"></i>
                    <div>비디오를 불러올 수 없습니다</div>
                    <div style="font-size: 14px; color: #999999; margin-top: 8px;">비디오 파일이 없거나 로드할 수 없습니다.</div>
                </div>
                
                <div class="subtitle-overlay" id="subtitle-overlay">
                    <div class="subtitle-text" id="subtitle-text"></div>
                </div>
            </div>

            <div class="video-controls">
                <div class="controls-row">
                    <button class="play-btn" id="play-btn">▶</button>
                    <span class="time-display" id="time-display">0:00:00</span>
                    <div class="progress-bar" id="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                    </div>
                    <div class="control-icons">
                        <button class="control-icon" id="caption-btn" title="자막">CC</button>
                        <button class="control-icon" id="volume-btn" title="볼륨">🔊</button>
                        <button class="control-icon" id="speed-btn" title="재생 속도">1x</button>
                        <button class="control-icon" id="fullscreen-btn" title="전체화면">⛶</button>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="action-btn apply-btn-inline" onclick="applyChanges()">
                        변경사항 적용하기
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 제목 수정 모달 -->
    <div class="title-edit-modal" id="titleEditModal" style="display: none;">
        <div class="modal-backdrop" id="titleModalBackdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">영상 제목 변경</h2>
                <button class="modal-close" id="closeTitleModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p class="modal-instruction">새로운 제목을 입력하고 '저장'을 눌러주세요</p>
                <input type="text" class="modal-title-input" id="modal-title-input" placeholder="제목을 입력하세요">
            </div>
            <div class="modal-footer">
                <button class="save-btn" id="save-title-btn">저장</button>
            </div>
        </div>
    </div>

    <script src="edit.js"></script>
</body>
</html>

